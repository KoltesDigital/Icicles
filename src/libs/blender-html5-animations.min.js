/**
 * Blender HTML5 Animations 1.0.2
 * Copyright 2016 Jonathan Giroux
 * MIT licence
 */
!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e(require("window")):"function"==typeof define&&define.amd?define(["window"],e):"object"==typeof exports?exports.blenderHTML5Animations=e(require("window")):t.blenderHTML5Animations=e(t.window)}(this,function(t){return function(t){function e(n){if(a[n])return a[n].exports;var r=a[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e,a){"use strict";t.exports.Action=a(1),t.exports.ActionLibrary=a(9),t.exports.FCurve=a(4),t.exports.FCurveArray=a(3),t.exports.Keyframe=a(7),t.exports.Marker=a(8)},function(t,e,a){"use strict";function n(t){function e(t){t&&(a.startTime=Math.min(a.startTime,t.keyframes[0].time),a.endTime=Math.max(a.endTime,t.keyframes[t.keyframes.length-1].time))}var a=this;this.startTime=+(1/0),this.endTime=-(1/0),this.paths={};for(var n in t[0]){var r=new u(t[0][n]);this.paths[n]=r,r.forEach(e)}this.markers=t.length>1?t[1].map(function(t){return new c(t)}):[]}var r=a(2),i=r.glMatrix,o=r.mat4,s=r.vec3,u=a(3),c=a(8);n.RotationMode={QUATERNION:0,EULER_XYZ:1,EULER_YXZ:3,EULER_XZY:2,EULER_ZXY:5,EULER_YZX:4,EULER_ZYX:6,AXIS_ANGLE:-1},n.prototype.forEachMarker=function(t,e,a){return this.markers.forEach(function(n,r){if(n.time>=t&&n.time<e)return a(n,r)})};var f=new i.ARRAY_TYPE(16);n.prototype.toWorld=function(t,e,a){function r(){i=s.fromValues(0,0,0),[c.rotation_euler,c.delta_rotation_euler].forEach(function(t){t&&s.add(i,i,t.evaluate(e,u.DefaultValues.ROTATION))})}o.identity(t);var i,c=this.paths,l=s.fromValues(0,0,0);switch([c.location,c.delta_location].forEach(function(t){t&&s.add(l,l,t.evaluate(e,u.DefaultValues.LOCATION))}),o.translate(t,t,l),a){case n.RotationMode.QUATERNION:[c.rotation_quaternion,c.delta_rotation_quaternion].forEach(function(a){a&&(o.fromQuat(f,a.evaluate(e,u.DefaultValues.ROTATION_QUATERNION)),o.multiply(t,t,f))});break;case n.RotationMode.EULER_XYZ:r(),o.rotateZ(t,t,i[2]),o.rotateY(t,t,i[1]),o.rotateX(t,t,i[0]);break;case n.RotationMode.EULER_XZY:r(),o.rotateY(t,t,i[1]),o.rotateZ(t,t,i[2]),o.rotateX(t,t,i[0]);break;case n.RotationMode.EULER_YXZ:r(),o.rotateZ(t,t,i[2]),o.rotateX(t,t,i[0]),o.rotateY(t,t,i[1]);break;case n.RotationMode.EULER_YZX:r(),o.rotateX(t,t,i[0]),o.rotateZ(t,t,i[2]),o.rotateY(t,t,i[1]);break;case n.RotationMode.EULER_ZXY:r(),o.rotateY(t,t,i[1]),o.rotateX(t,t,i[0]),o.rotateZ(t,t,i[2]);break;case n.RotationMode.EULER_ZYX:r(),o.rotateX(t,t,i[0]),o.rotateY(t,t,i[1]),o.rotateZ(t,t,i[2]);break;case n.RotationMode.AXIS_ANGLE:if(c.rotation_axis){var E=c.rotation_axis.evaluate(e,u.DefaultValues.ROTATION);o.rotate(t,t,E[3],E)}}var p=s.fromValues(1,1,1);return[c.scale,c.delta_scale].forEach(function(t){t&&s.multiply(p,p,t.evaluate(e,u.DefaultValues.SCALE))}),o.scale(t,t,p),t},n.prototype.toLocal=function(t,e,a){return this.toWorld(t,e,a),o.invert(t,t),t},n.prototype.setElementTransform=function(t,e,a){var n=new i.ARRAY_TYPE(16);this.toWorld(n,e,a);var r="matrix3d("+n.join(",")+")";["transform","mozTransform","oTransform","webkitTransform"].forEach(function(e){t.style[e]=r})},t.exports=n},function(e,a){e.exports=t},function(t,e,a){"use strict";function n(t){var e=t.map(function(t){return t&&new r(t)});return e.evaluate=function(t,a){return e.map(function(e,n){return e?e.evaluate(t):a(n,t)})},e}var r=a(4);n.DefaultValues={LOCATION:function(){return 0},ROTATION:function(){return 0},ROTATION_QUATERNION:function(t){return 3===t?1:0},SCALE:function(){return 1}},t.exports=n},function(t,e,a){"use strict";function n(t){this.keyframes=t[0].map(function(t){return new s(t)}),this.extrapolation=t[1]}function r(t,e){return Math.abs(t-e)<=n.evaluationTimeEpsilon}var i=a(5),o=a(6),s=a(7);n.Extrapolation={CONSTANT:0,LINEAR:1},n.evaluationTimeEpsilon=1e-4,n.prototype.evaluate=function(t){var e=0,a=this.keyframes[e];if(r(t,a.time))return a.value;if(t<=a.time)switch(this.extrapolation){case n.Extrapolation.LINEAR:return a.value+(a.leftValue-a.value)*(t-a.time)/(a.leftTime-a.time);default:return a.value}var u=this.keyframes.length-1,c=this.keyframes[u];if(r(t,c.time))return c.value;if(t>=c.time)switch(this.extrapolation){case n.Extrapolation.LINEAR:return c.value+(c.rightValue-c.value)*(t-c.time)/(c.rightTime-c.time);default:return c.value}for(;u-e>1;){var f=(e+u)/2|0;this.keyframes[f].time>=t?u=f:e=f}if(a=this.keyframes[e],r(t,a.time))return a.value;if(c=this.keyframes[u],r(t,c.time))return c.value;var l=t-a.time,E=a.value,p=c.time-a.time,I=c.value-a.value;switch(a.interpolation){case s.Interpolation.BACK:switch(a.easing){case s.Easing.IN:return o.backEaseIn(l,E,I,p,a.overshoot);case s.Easing.IN_OUT:return o.backEaseInOut(l,E,I,p,a.overshoot);default:return o.backEaseOut(l,E,I,p,a.overshoot)}break;case s.Interpolation.BEZIER:return i(t,a,c);case s.Interpolation.BOUNCE:switch(a.easing){case s.Easing.IN:return o.bounceEaseIn(l,E,I,p);case s.Easing.IN_OUT:return o.bounceEaseInOut(l,E,I,p);default:return o.bounceEaseOut(l,E,I,p)}break;case s.Interpolation.CIRCULAR:switch(a.easing){case s.Easing.OUT:return o.circularEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.circularEaseInOut(l,E,I,p);default:return o.circularEaseIn(l,E,I,p)}break;case s.Interpolation.CUBIC:switch(a.easing){case s.Easing.OUT:return o.cubicEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.cubicEaseInOut(l,E,I,p);default:return o.cubicEaseIn(l,E,I,p)}break;case s.Interpolation.ELASTIC:switch(a.easing){case s.Easing.IN:return o.elasticEaseIn(l,E,I,p);case s.Easing.IN_OUT:return o.elasticEaseInOut(l,E,I,p);default:return o.elasticEaseOut(l,E,I,p,a.amplitude,a.period)}break;case s.Interpolation.EXPONENTIAL:switch(a.easing){case s.Easing.OUT:return o.exponentialEaseOut(l,E,I,p);case s.Keyframe.Easing.IN_OUT:return o.exponentialEaseInOut(l,E,I,p);default:return o.exponentialEaseIn(l,E,I,p)}break;case s.Interpolation.LINEAR:return o.linear(l,E,I,p);case s.Interpolation.QUADRATIC:switch(a.easing){case s.Easing.OUT:return o.quadraticEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.quadraticEaseInOut(l,E,I,p);default:return o.quadraticEaseIn(l,E,I,p)}break;case s.Interpolation.QUARTIC:switch(a.easing){case s.Easing.OUT:return o.quarticEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.quarticEaseInOut(l,E,I,p);default:return o.quarticEaseIn(l,E,I,p)}break;case s.Interpolation.QUINTIC:switch(a.easing){case s.Easing.OUT:return o.quinticEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.quinticEaseInOut(l,E,I,p);default:return o.quinticEaseIn(l,E,I,p)}break;case s.Interpolation.SINUSOIDAL:switch(a.easing){case s.Easing.OUT:return o.sinusoidalEaseOut(l,E,I,p);case s.Easing.IN_OUT:return o.sinusoidalEaseInOut(l,E,I,p);default:return o.sinusoidalEaseIn(l,E,I,p)}break;default:return E}},t.exports=n},function(t,e){"use strict";function a(t,e,a,n,r){var i=1-r;return i*i*i*t+3*i*i*r*e+3*i*r*r*a+r*r*r*n}function n(t,e,n){var r=e.time,i=e.value,o=e.rightTime,s=e.rightValue,u=n.leftTime,c=n.leftValue,f=n.time,l=n.value,E=o-r,p=f-u,I=f-r;if(E+p>I){var h=s-i,O=l-c,m=I/(E+p);o=r+m*E,s=i+m*h,u=f-m*p,c=l-m*O}var d,T,x=0,v=1;do d=(x+v)/2,T=a(r,o,u,f,d),T>t?v=d:x=d;while(Math.abs(T-t)>.01);return a(i,s,c,l,d)}t.exports=n},function(t,e){"use strict";function a(t,e,a,n,r){return t/=n,a*t*t*((r+1)*t-r)+e}function n(t,e,a,n,r){return t=t/n-1,a*(t*t*((r+1)*t+r)+1)+e}function r(t,e,a,n,r){return r*=1.525,(t/=n/2)<1?a/2*(t*t*((r+1)*t-r))+e:(t-=2,a/2*(t*t*((r+1)*t+r)+2)+e)}function i(t,e,a,n){return t/=n,t<1/2.75?a*(7.5625*t*t)+e:t<2/2.75?(t-=1.5/2.75,a*(7.5625*t*t+.75)+e):t<2.5/2.75?(t-=2.25/2.75,a*(7.5625*t*t+.9375)+e):(t-=2.625/2.75,a*(7.5625*t*t+.984375)+e)}function o(t,e,a,n){return a-i(n-t,0,a,n)+e}function s(t,e,a,n){return t<n/2?.5*o(2*t,0,a,n)+e:.5*i(2*t-n,0,a,n)+.5*a+e}function u(t,e,a,n){return t/=n,-a*(Math.sqrt(1-t*t)-1)+e}function c(t,e,a,n){return t=t/n-1,a*Math.sqrt(1-t*t)+e}function f(t,e,a,n){return(t/=n/2)<1?-a/2*(Math.sqrt(1-t*t)-1)+e:(t-=2,a/2*(Math.sqrt(1-t*t)+1)+e)}function l(t,e,a,n){return t/=n,a*t*t*t+e}function E(t,e,a,n){return t=t/n-1,a*(t*t*t+1)+e}function p(t,e,a,n){return(t/=n/2)<1?a/2*t*t*t+e:(t-=2,a/2*(t*t*t+2)+e)}function I(t,e,a,n,r,i){if(e){var o=Math.abs(r);n?i*=n/Math.abs(e):i=0;var s=Math.abs(t*a);if(s<o){var u=s/o;i=i*u+(1-u)}}return i}function h(t,e,a,n,r,i){var o,s=1;return t<=0?e:(t/=n)>=1?e+a:(t-=1,i||(i=.3*n),!r||r<Math.abs(a)?(o=i/4,s=I(t,a,n,r,o,s),r=a):o=i/(2*Math.PI)*Math.asin(a/r),-s*(r*Math.pow(2,10*t)*Math.sin((t*n-o)*(2*Math.PI)/i))+e)}function O(t,e,a,n,r,i){var o,s=1;return t<=0?e:(t/=n)>=1?e+a:(t=-t,i||(i=.3*n),!r||r<Math.abs(a)?(o=i/4,s=I(t,a,n,r,o,s),r=a):o=i/(2*Math.PI)*Math.asin(a/r),s*(r*Math.pow(2,10*t)*Math.sin((t*n-o)*(2*Math.PI)/i))+a+e)}function m(t,e,a,n,r,i){var o,s=1;return t<=0?e:(t/=n/2)>=2?e+a:(t-=1,i||(i=n*(.3*1.5)),!r||r<Math.abs(a)?(o=i/4,s=I(t,a,n,r,o,s),r=a):o=i/(2*Math.PI)*Math.asin(a/r),t<0?(s*=-.5,s*(r*Math.pow(2,10*t)*Math.sin((t*n-o)*(2*Math.PI)/i))+e):(t=-t,s*=.5,s*(r*Math.pow(2,10*t)*Math.sin((t*n-o)*(2*Math.PI)/i))+a+e))}function d(t,e,a,n){return t<=0?e:a*Math.pow(2,10*(t/n-1))+e}function T(t,e,a,n){return t>=n?e+a:a*(-Math.pow(2,-10*t/n)+1)+e}function x(t,e,a,n){return t<=0?e:t>=n?e+a:(t/=n/2)<1?a/2*Math.pow(2,10*(t-1))+e:(t-=1,a/2*(-Math.pow(2,-10*t)+2)+e)}function v(t,e,a,n){return a*t/n+e}function M(t,e,a,n){return t/=n,a*t*t+e}function N(t,e,a,n){return t/=n,-a*t*(t-2)+e}function b(t,e,a,n){return(t/=n/2)<1?a/2*t*t+e:(t-=1,-a/2*(t*(t-2)-1)+e)}function A(t,e,a,n){return t/=n,a*t*t*t*t+e}function U(t,e,a,n){return t=t/n-1,-a*(t*t*t*t-1)+e}function R(t,e,a,n){return(t/=n/2)<1?a/2*t*t*t*t+e:(t-=2,-a/2*(t*t*t*t-2)+e)}function g(t,e,a,n){return t/=n,a*t*t*t*t*t+e}function w(t,e,a,n){return t=t/n-1,a*(t*t*t*t*t+1)+e}function _(t,e,a,n){return(t/=n/2)<1?a/2*t*t*t*t*t+e:(t-=2,a/2*(t*t*t*t*t+2)+e)}function k(t,e,a,n){return-a*Math.cos(t/n*Math.PI/2)+a+e}function L(t,e,a,n){return a*Math.sin(t/n*Math.PI/2)+e}function C(t,e,a,n){return-a/2*(Math.cos(Math.PI*t/n)-1)+e}t.exports.backEaseIn=a,t.exports.backEaseOut=n,t.exports.backEaseInOut=r,t.exports.bounceEaseOut=i,t.exports.bounceEaseIn=o,t.exports.bounceEaseInOut=s,t.exports.circularEaseIn=u,t.exports.circularEaseOut=c,t.exports.circularEaseInOut=f,t.exports.cubicEaseIn=l,t.exports.cubicEaseOut=E,t.exports.cubicEaseInOut=p,t.exports.elasticEaseIn=h,t.exports.elasticEaseOut=O,t.exports.elasticEaseInOut=m,t.exports.exponentialEaseIn=d,t.exports.exponentialEaseOut=T,t.exports.exponentialEaseInOut=x,t.exports.linear=v,t.exports.quadraticEaseIn=M,t.exports.quadraticEaseOut=N,t.exports.quadraticEaseInOut=b,t.exports.quarticEaseIn=A,t.exports.quarticEaseOut=U,t.exports.quarticEaseInOut=R,t.exports.quinticEaseIn=g,t.exports.quinticEaseOut=w,t.exports.quinticEaseInOut=_,t.exports.sinusoidalEaseIn=k,t.exports.sinusoidalEaseOut=L,t.exports.sinusoidalEaseInOut=C},function(t,e){"use strict";function a(t){this.time=t[0],this.value=t[1],this.leftTime=t[2],this.leftValue=t[3],this.rightTime=t[4],this.rightValue=t[5],this.interpolation=t[6],this.easing=t[7],this.overshoot=t[8],this.amplitude=t[8],this.period=t[9]}a.Easing={AUTO:0,IN:1,OUT:2,IN_OUT:3},a.Interpolation={CONSTANT:0,LINEAR:1,BEZIER:2,BACK:3,BOUNCE:4,CIRCULAR:5,CUBIC:6,ELASTIC:7,EXPONENTIAL:8,QUADRATIC:9,QUARTIC:10,QUINTIC:11,SINUSOIDAL:12},t.exports=a},function(t,e){"use strict";function a(t){this.time=t[0],this.name=t[1]}t.exports=a},function(t,e,a){"use strict";function n(t){for(var e in t)this[e]=new r(t[e])}var r=a(1);t.exports=n}])});